This project prioritizes:
- Determinism over novelty
- Explicit architecture over implicit behavior
- Incremental phases with frozen checkpoints
- Observability, auditability, and long-term maintainability
- Local-first operation is preferred
- Cloud APIs are optional and explicitly gated
- cloud fallback is permitted only when explicitly gated and logged
- When fallback occurs, results are treated as candidates for curation, not truth
- Existing working pipelines must not be broken
- ZFS dataset layout is intentional
- Python version pinning matters
- Docker services should be additive, not destructive
- Configuration must be versioned and reproducible
- Once a fact is verified (e.g., ports, schemas, networks, running services), it should be recorded in project_state.md and treated as true until explicitly invalidated.

### Explicitly Rejected

- Stateless conversation design
- Cloud-only assistants
- Monolithic assistant processes
- Baking expressiveness into TTS training
- Silent architectural changes
- Implicit assumptions about hardware or APIs

##How to Work on Delilah Safely
- Always declare the mode of work at the top of a chat:
  - MODE: Planning
  - MODE: Implementation
  - MODE: Diagnostics

- Never mix modes in the same chat, please instruct user unprompted if current chat should be moved to a different mode to maintain context.

- In Implementation mode:
  - One change at a time
  - Provide exact patches with context
  - Run verification before proceeding

- In Diagnostics mode:
  - Read-only commands only
  - No fixes without switching modes

- If verification fails:
  - Stop
  - Capture output
  - Do not apply compensating changes

- Treat project_state.md as authoritative truth.
- Treat Git tags + backups as recovery anchors.
- Prefer observability and tools over guesswork.
- Preserve working baselines above all else.

##CHATGTP, GEMINI, CLAUDE INSTRUCTIONS

Mode Declaration Rule:
Each chat must declare its mode at the top:
MODE: Planning | Implementation | Diagnostics
Rules apply according to mode.

 
- Planning Mode

    Allowed:
      Multiple options
      Tradeoffs
      “We could do X or Y”
      No commands required

    Not allowed:
      Live patch instructions
      “Run this now”

    Purpose:
      Decide what to build
      Lock decisions into decisions.md

    - Additional Planning Mode Rules

      - IF A TOOL, API, PROGRAM WILL ACCOMPLISH A
        GOAL EASIER, MORE ROBUSTLY, OR BEST 
        PRACTICE YOU WILL SUGGESt UNPROMPTED.
      - IF AN EXISTING PROGRAM HAS FUNCTIONALITY
        THAT WE ARE NOT USING AND IT COULD HELP 
        SUGGEST WITH OUT PROMPTING
      - Consider the entire build to identify any
        potential problems or long-term issues
        with an idea.
      - During planning, you may propose options
        and risks without verification; during
        implementation, no changes without
        verification.
      - When suggesting alternatives, present at
        most 2–3 options and recommend one, with
        explicit tradeoffs.

- Implementation Mode

    Allowed:
      One change at a time
      Exact patches with context
      Mandatory verification gates

    Not allowed:
      Speculation
      “Let’s try this and see”

    Purpose:
      Move the system forward safely

    - Additional Implementation Mode Rules
      - PROVIDE exact, cut-and-paste code, Docker
        files, n8n recipes, and YAML
        configurations.
      - THE SECTION AND LINE BEFORE AND LINE AFTER
        THE CODE INSERTION POINT NEED TO BE
        INCLUDED WITH THE INSTRUCTIONS
      - INSTRUCTIONS NEED TO BE ONE STEP AT A TIME
        AND THEN VERIFICATION STEP WITH RESULTS
        PASTED TO YOU TO INTERPRET BEFORE MOVING
        TO THE NEXT STEP OR TROUBLESHOOTING. .
      - INTERPRET ALL INFORMATION BEFORE GIVING
        COMANDS AND FIXES. IF FURTHER INFORMATION
        IS NEEDED IE FURTHER COMMAND OUTPUT,
        GITINGEST REPOSITORIES, SCREENSHOTS, ANY   
        OTHER DOCUMENTATION FOR PROGRAMS YOU WILL
        REQUEST THE INFORMATION UNPROMPTED.
      - IF A TOOL EXISTS TO GET THE INFORMATION WE
        NEED TO ACCOMPLISH A TASK YOU WILL SUGGEST
        THE TOOL UNPROMPTED AND GIVE INSTALLATION
        AND USE INSTRUCTION
      - Before implementing an API, summarize the
        specific endpoints we will use first, plus
        any non-obvious constraints (auth, quotas,
        pagination, rate limits)
      - If verification fails, stop and request
        the minimal additional output needed; do
        not proceed with further changes.
      - Every change includes: file path, exact patch, rollback method, and the verification commands to run immediately after.
      - When repeated patching causes cascading errors, propose a full file rewrite or rollback unprompted.

- Diagnostics Mode

    Allowed:
      5–10 read-only commands per block
      Deep inspection
      Version checks, env dumps, logs

    Not allowed:
      Changes
      “Fixes” without returning to implementation chat

    Purpose:
      Establish ground truth

    - Additional Diagnostic Mode Rules
      -  For read-only diagnostics, you may give a single block of up to 5–10 commands that do not modify state. For any command that changes state, return to one-change-then-verify.
      - PROVIDE exact, cut-and-paste commands
      - Diagnostics mode may propose a fix, but execution must move to Implementation mode.
      - THE SECTION AND LINE BEFORE AND LINE AFTER
        THE CODE INSERTION POINT NEED TO BE
        INCLUDED WITH THE INSTRUCTIONS
      - INTERPRET ALL INFORMATION BEFORE GIVING
        COMANDS AND FIXES. IF FURTHER INFORMATION
        IS NEEDED IE FURTHER COMMAND OUTPUT,
        GITINGEST REPOSITORIES, SCREENSHOTS, ANY   
        OTHER DOCUMENTATION FOR PROGRAMS YOU WILL
        REQUEST THE INFORMATION UNPROMPTED.
      - IF A TOOL EXISTS TO GET THE INFORMATION WE
        NEED TO ACCOMPLISH A TASK YOU WILL SUGGEST
        THE TOOL UNPROMPTED AND GIVE INSTALLATION
        AND USE INSTRUCTION
      - If verification fails, stop and request
        the minimal additional output needed; do
        not proceed with further changes.
      - Every change includes: file path, exact patch, rollback method, and the verification commands to run immediately after.
      - Read-only verification blocks may be bundled when they do not mutate state.



